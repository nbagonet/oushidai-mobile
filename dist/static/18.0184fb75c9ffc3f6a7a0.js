webpackJsonp([18],{10:function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.bindScroll=e.toggleFixed=e.showSidebarMenuBtn=e.setBreadcrumbs=void 0;var n=o(25),a=i(n),r=(e.setBreadcrumbs=function(t,e){var o=t.dispatch;t.state;o("SET_BREADCRUMBS_INFO",e)},e.showSidebarMenuBtn=function(t,e){var o=t.dispatch;t.state;"boolean"==typeof e&&o("TOGGLE_SIDEBAR_MENU_BTN",e)},e.toggleFixed=function(t,e){var o=t.dispatch;t.state;"boolean"==typeof e&&o("TOGGLE_TOPBAR_FIXED",e)});e.bindScroll=function(t){var e=t.dispatch,o=t.state,i=(0,a["default"])(window).scrollTop(),n=document.querySelector(".topbar").clientHeight+10;(0,a["default"])(window).on("scroll.fixTopbar",function(t){var s=(0,a["default"])("body").height(),l=window.screen.availHeight,p=document.body.scrollTop||document.documentElement.scrollTop;n>=p?r({dispatch:e,state:o},!1):p>i||p+l>=s?r({dispatch:e,state:o},!1):r({dispatch:e,state:o},!0),i=p})}},175:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetNewsView=e.initNewsView=e.setShareConf=void 0;var i=o(24),n=o(28),a=function(t,e){var o=t.dispatch,a=t.state,p=e.$route.params.id,c=a.apis["news-content"],d={id:p};o("GLOBAL_LOADING",!0),o("SET_NEWS_AUTHOR_INFO",""),o("SET_NEWS_VIEW_RELEATED_LIST_CONFIG",{type:a.newsView.releatedListConfig.type,number:a.newsView.releatedListConfig.number,list:[]}),e.$http.get(c,d).then(function(t){(0,i.handleResponse)(t,function(t){o("SET_NEWS_CONTENT",t),o("SET_TOPHEADER_CONFIG",{backLink:"news",prev:{link:"news-view",id:t.prevNews.id},next:{link:"news-view",id:t.nextNews.id}}),o("GLOBAL_LOADING",!1),r({dispatch:o,state:a},e),s({dispatch:o,state:a},e),o("SET_NEWS_VIEW_BOTTOM_TOOLBAR_CONFIG",t),o("SET_SHARE_INFO",{title:t.title,description:(0,n.removeHTMLTag)(t.content),image:t.cover,tags:function(){for(var e=[],o=0;o<t.tags.length;o++)e.push(t.tags[o]);return e}}),l({dispatch:o,state:a})},function(t,e){(0,i.APIError)(c,t),o("GLOBAL_LOADING",!1),o("IS_NEWS_VIEW_ERROR",!0)})},function(t){window.alert("资讯内容数据获取失败，请稍后重试"),o("GLOBAL_LOADING",!1),o("IS_NEWS_VIEW_ERROR",!0)})},r=function(t,e){var o=t.dispatch,n=t.state,a=n.apis["author-info"],r={userId:"",type:n.newsView.newsData.author.type,id:n.newsView.newsData.author.uid};o("GLOBAL_LOADING",!0),e.$http.get(a,r).then(function(t){(0,i.handleResponse)(t,function(t){o("SET_NEWS_AUTHOR_INFO",t),o("GLOBAL_LOADING",!1)},function(t,e){(0,i.APIError)(a,t),o("GLOBAL_LOADING",!1)})},function(t){window.alert("作者详情数据获取失败，请稍后重试"),o("GLOBAL_LOADING",!1)})},s=function(t,e){var o=t.dispatch,n=t.state,a=n.apis["news-related"],r={num:n.newsView.releatedListConfig.number,newsId:n.newsView.newsData.id};o("GLOBAL_LOADING",!0),e.$http.get(a,r).then(function(t){(0,i.handleResponse)(t,function(t){o("SET_NEWS_VIEW_RELEATED_LIST_CONFIG",{type:n.newsView.releatedListConfig.type,number:n.newsView.releatedListConfig.number,list:t.list}),o("GLOBAL_LOADING",!1)},function(t,e){(0,i.APIError)(a,t),o("GLOBAL_LOADING",!1)})},function(t){window.alert("相关资讯数据获取失败，请稍后重试"),o("GLOBAL_LOADING",!1)})},l=e.setShareConf=function(t){var e=t.dispatch,o=t.state;(0,n.setWeixinShare)({dispatch:e,state:o})};e.initNewsView=function(t,e){var o=t.dispatch,i=t.state;a({dispatch:o,state:i},e)},e.resetNewsView=function(t,e){var o=t.dispatch;t.state;o("RESET_NEWS_VIEW_STATE")}},239:function(t,e,o){"use strict";var i=o(10),n=o(175);t.exports={name:"news-view",vuex:{getters:{topheaderConfig:function(t){return t.newsView.topheaderConfig},bottomToolbarConfig:function(t){return t.newsView.bottomToolbarConfig},releatedListConfig:function(t){return t.newsView.releatedListConfig},isError:function(t){return t.newsView.isError},isLoading:function(t){return t.loading},newsData:function(t){return t.newsView.newsData},breadcrumbs:function(t){return t.topbar.breadcrumbs},authorInfo:function(t){return t.newsView.authorInfo}},actions:{setBreadcrumbs:i.setBreadcrumbs,initNewsView:n.initNewsView,resetNewsView:n.resetNewsView}},components:{topheader:function(t){o.e(30,function(e){var o=[e(30)];t.apply(null,o)}.bind(this))},loading:function(t){o.e(0,function(e){var o=[e(29)];t.apply(null,o)}.bind(this))},"user-info-block":function(t){o.e(37,function(e){var o=[e(156)];t.apply(null,o)}.bind(this))},"releated-list":function(t){o.e(35,function(e){var o=[e(154)];t.apply(null,o)}.bind(this))},toolbar:function(t){o.e(34,function(e){var o=[e(155)];t.apply(null,o)}.bind(this))}},route:{canReuse:!1},ready:function(){this.resetNewsView(),this.initNewsView(this),this.setBreadcrumbs(this.$route.breadcrumbs)}}},300:function(t,e,o){e=t.exports=o(6)(),e.push([t.id,".typo{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-rendering:optimizelegibility}.typo *{box-sizing:border-box}.typo article,.typo aside,.typo blockquote,.typo button,.typo code,.typo dd,.typo details,.typo dl,.typo dt,.typo fieldset,.typo figcaption,.typo figure,.typo footer,.typo form,.typo h1,.typo h2,.typo h3,.typo h4,.typo h5,.typo h6,.typo header,.typo hr,.typo input,.typo legend,.typo li,.typo menu,.typo nav,.typo ol,.typo p,.typo pre,.typo section,.typo td,.typo textarea,.typo th,.typo ul{margin:0;padding:0}.typo audio,.typo canvas,.typo video{display:inline-block}.typo table{border-spacing:0;border-collapse:collapse}.typo fieldset,.typo img{border:0}.typo blockquote{font-weight:400;position:relative;margin:1em 0;color:#999;padding:.6em 3em 0}.typo blockquote:before{top:-.2em;left:0;content:'\\201C'}.typo blockquote:after,.typo blockquote:before{font-size:3em;line-height:1;position:absolute;color:#999}.typo blockquote:after{right:0;bottom:.2em;content:'\\201D'}.typo abbr,.typo acronym{font-variant:normal;border-bottom:1px dotted}.typo abbr{cursor:help}.typo del{text-decoration:line-through}.typo address,.typo caption,.typo cite,.typo code,.typo dfn,.typo em,.typo th,.typo var{font-weight:400;font-style:normal}.typo ol,.typo ul{list-style:none}.typo caption,.typo th{text-align:left}.typo sub,.typo sup{font-size:75%;line-height:0;position:relative}.typo :root sub,.typo :root sup{vertical-align:baseline}.typo sup{top:-.5em}.typo sub{bottom:-.25em}.typo a,.typo ins{text-decoration:none}.typo a{color:#00cdd7}.typo a:active,.typo a:hover{text-decoration:underline;color:#00e6e8}.typo u{text-decoration:underline}.typo mark{margin:0 5px;padding:2px;border-bottom:1px solid #ffedce;background:#fffdd1}.typo code,.typo pre,.typo pre tt{font-family:Courier,Courier New,monospace}.typo pre{display:block;padding:1em 1.5em;border:1px solid #ddd;background:#f8f8f8;-webkit-overflow-scrolling:touch}.typo hr{height:10px;margin-bottom:.8em;border:none;border-bottom:1px solid #cfcfcf}.typo figcaption,.typo small{font-size:.9em;color:#888}.typo b,.typo strong{font-weight:700;color:#000}.typo [draggable]{cursor:move}.typo h1,.typo h2,.typo h3,.typo h4,.typo h5,.typo h6{line-height:1.35;margin-top:1.2em;margin-bottom:.6em;color:#000}.typo h1{font-size:2em}.typo h2{font-size:1.8em}.typo h3{font-size:1.6em}.typo h4{font-size:1.4em}.typo h5,.typo h6{font-size:1.2em}.typo ul{margin-left:1.3em;list-style:disc}.typo ol{margin-left:1.9em;list-style:decimal}.typo li ol,.typo li ul{margin-bottom:.8em;margin-left:2em}.typo li ul{list-style:circle}.typo table caption,.typo table td,.typo table th{padding:.5em 1em;color:#666;border:1px solid #ddd}.typo table th{background:#fbfbfb}.typo table thead th{background:#f1f1f1}.typo table caption{border-bottom:none}.typo input,.typo textarea{border-radius:0;-webkit-appearance:none}.typo caption,.typo em,.typo legend{font-weight:inherit}.typo p{clear:inherit!important;margin-top:1em;margin-bottom:1em}.news-view{min-height:100vh}.news-view .error{font-size:.46875rem;line-height:1.7;min-height:100vh;text-align:center;color:#2b3f45;position:absolute;top:0;right:0;bottom:0;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:0;padding-right:.46875rem;padding-left:.46875rem}.news-view .error a{color:#00cdd7}.news-view .content{min-height:100%;color:#516167;background-color:#fff;box-shadow:0 .015625rem .0625rem 0 rgba(0,0,0,.15)}.news-view .content .cover{position:relative;overflow:hidden}.news-view .content .tags{z-index:100;position:absolute;top:.3125rem;left:.3125rem}.news-view .content .pic{overflow:hidden;width:100%;min-height:1.5625rem}.news-view .content .pic img,.news-view .content .pic video{display:block;width:100%}.news-view .content .title-bar{position:relative;margin-top:.546875rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:.3125rem}.news-view .content .title-bar .author-avatar{-webkit-box-flex:0;-webkit-flex:none;-ms-flex:none;flex:none;padding-right:.546875rem;padding-left:.703125rem}.news-view .content .title-bar h1{font-size:.59375rem;font-weight:400;line-height:1.15789474;margin:0;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding-right:.3125rem}.news-view .content .title-bar:before{content:'';background-color:#00e6e8;width:.15625rem;height:auto;position:absolute;top:0;bottom:0;left:0}.news-view .content .title-attr{color:#acb9bd;border-bottom:1px solid #ecf2f3;margin-right:.3125rem;margin-left:.3125rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding-bottom:.15625rem}.news-view .content .title-attr>div{font-size:.3125rem}.news-view .content .title-attr .author{color:#6b8088;margin-right:.3em}.news-view .content .title-attr .author a{color:#6b8088}.news-view .content .title-attr .author a:active{color:#00e6e8}.news-view .content .title-attr .time{border-right:1px solid #acb9bd;padding-right:.3125rem;margin-right:.3125rem}.news-view .content .title-attr .time:before{content:'\\B7';margin-right:.3em}.news-view .content .title-attr .count-like,.news-view .content .title-attr .count-pv{margin-right:.3125rem}.news-view .content .title-attr .count-comments,.news-view .content .title-attr .count-like,.news-view .content .title-attr .count-pv{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.news-view .content .title-attr .count-comments .icon-like,.news-view .content .title-attr .count-like .icon-like,.news-view .content .title-attr .count-pv .icon-like{margin-top:.1em}.news-view .content .title-attr .count-comments span,.news-view .content .title-attr .count-like span,.news-view .content .title-attr .count-pv span{margin-left:.3em}.news-view .article{font-size:.375rem;line-height:1.66666667;overflow-x:hidden;color:#516167;padding-top:.625rem;padding-bottom:.625rem;margin-right:.625rem;margin-left:.625rem}.news-view .article img{display:block;width:100%!important;height:auto!important}.news-view .author-info-block{border-top:1px solid #ecf2f3;margin-top:.546875rem;margin-right:.625rem;margin-left:.625rem}.news-view .releated-list-block{padding-bottom:1.796875rem}",""])},346:function(t,e,o){var i=o(300);"string"==typeof i&&(i=[[t.id,i,""]]);o(7)(i,{});i.locals&&(t.exports=i.locals)},404:function(t,e){t.exports='<div class=news-view><topheader v-if=!isError v-bind:config=topheaderConfig></topheader><div v-if="isError &amp;&amp; !isLoading" class=error><p>读取资讯数据失败或指定的资讯数据不存在<br/>请<a href=javascript:history.back()>返回</a>并重试</p></div><div v-if="!isError &amp;&amp; !isLoading" class="content animated"><div class=cover><div class=tags><a href=# v-for="tag in newsData.tags" data-id="{{ tag.id }}" class="tag white-nb"><span>{{ tag.tag }}</span></a></div><div class="pic inset-shadow-l"><img v-bind:src=newsData.cover /></div></div><div class=title-bar><div class=author-avatar><a v-link="{ name: newsData.author.type, params: { id: newsData.author.uid }}" class="avatar avatar-md"><img v-bind:src=newsData.author.avatar /></a></div><h1>{{{ newsData.title }}}</h1></div><div class=title-attr><div class=author><a v-link="{ name: newsData.author.type, params: { id: newsData.author.uid }}">@{{ newsData.author.name }}</a></div><div class=time>{{ newsData.time | formatDateTime }}</div><div v-if="newsData.view.num | strToNumber" class=count-pv><i class="font-osd icon-eye"></i><span>{{ newsData.view.num | formatNum }}</span></div><div v-if="newsData.like.num | strToNumber" class=count-like><i class="font-osd icon-like"></i><span>{{ newsData.like.num | formatNum }}</span></div><div v-if="newsData.comment.num | strToNumber" class=count-comments><i class="font-osd icon-messagebox"></i><span>{{ newsData.comment.num | formatNum }}</span></div></div><div class=article><div class="inner typo">{{{ newsData.content | optimizeContent }}}</div></div><div class=author-info-block><user-info-block v-bind:info=authorInfo v-bind:uid=newsData.author.uid v-show=authorInfo></user-info-block></div></div><div class=releated-list-block><releated-list v-bind:config=releatedListConfig v-show=releatedListConfig.list></releated-list></div><toolbar v-bind:config=bottomToolbarConfig></toolbar></div>'},446:function(t,e,o){var i,n;o(346),i=o(239),n=o(404),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)}});