webpackJsonp([4],{10:function(e,r,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.bindScroll=r.toggleFixed=r.showSidebarMenuBtn=r.setBreadcrumbs=void 0;var i=t(25),a=o(i),n=(r.setBreadcrumbs=function(e,r){var t=e.dispatch;e.state;t("SET_BREADCRUMBS_INFO",r)},r.showSidebarMenuBtn=function(e,r){var t=e.dispatch;e.state;"boolean"==typeof r&&t("TOGGLE_SIDEBAR_MENU_BTN",r)},r.toggleFixed=function(e,r){var t=e.dispatch;e.state;"boolean"==typeof r&&t("TOGGLE_TOPBAR_FIXED",r)});r.bindScroll=function(e){var r=e.dispatch,t=e.state,o=(0,a["default"])(window).scrollTop(),i=document.querySelector(".topbar").clientHeight+10;(0,a["default"])(window).on("scroll.fixTopbar",function(e){var s=(0,a["default"])("body").height(),l=window.screen.availHeight,c=document.body.scrollTop||document.documentElement.scrollTop;c<=i?n({dispatch:r,state:t},!1):o<c||c+l>=s?n({dispatch:r,state:t},!1):n({dispatch:r,state:t},!0),o=c})}},152:function(e,r,t){var o,i;t(359),o=t(252),i=t(417),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},184:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.submit=r.reset=r.init=void 0;var o=t(24),i=(r.init=function(e,r){var t=e.dispatch,o=e.state;if(i({dispatch:t,state:o},r),o.isLogin)r.$router.go({name:"home"});else{var a=o.apis.register,n=r.$route.query.union;t("SET_REGISTER_PORT",a),n&&t("SET_REGISTER_PARAMS",{union:n})}},r.reset=function(e,r){var t=e.dispatch;e.state;t("RESET_REGISTER_STATE")});r.submit=function(e,r){var t=e.dispatch,i=e.state,a=i.registerForm.port,n=i.registerForm.params;t("GLOBAL_LOADING",!0),r.$http.post(a,n).then(function(e){(0,o.handleResponse)(e,function(e){t("GLOBAL_LOADING",!1),r.$router.go({name:"register-success"})},function(e,r){(0,o.APIError)(a,e),window.alert(e),t("GLOBAL_LOADING",!1)})},function(e){window.alert("注册信息提交失败，请稍后重试"),t("GLOBAL_LOADING",!1)})}},252:function(e,r,t){"use strict";var o=t(10),i=t(27),a=t(184);e.exports={name:"register-form",vuex:{getters:{breadcrumbs:function(e){return e.topbar.breadcrumbs},port:function(e){return e.registerForm.port},params:function(e){return e.registerForm.params},loading:function(e){return e.loading}},actions:{setBreadcrumbs:o.setBreadcrumbs,toggleLockScroll:i.toggleLockScroll,submit:a.submit,init:a.init}},methods:{back:function(){window.history.go(-1)}},route:{canReuse:!1},ready:function(){this.setBreadcrumbs(this.$route.breadcrumbs),this.init(this)}}},313:function(e,r,t){r=e.exports=t(6)(),r.push([e.id,".register-form{margin-right:.3125rem;margin-left:.3125rem;padding-top:1.40625rem}.register-form .register-toolbar{margin-bottom:.703125rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.register-form .register-toolbar,.register-form .register-toolbar .btn-back{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.register-form .register-toolbar .btn-back{font-size:.5rem;color:#464646;background-color:hsla(0,0%,100%,.96);margin-right:auto;border-radius:50%;box-shadow:0 1px 3px 0 rgba(0,0,0,.15);width:.9375rem;height:.9375rem;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.register-form .register-toolbar .btn-back:active{background-color:hsla(0,0%,100%,.7)}.register-form .register-toolbar .btn-login{font-size:.4375rem;height:.9375rem;color:#464646;background-color:hsla(0,0%,100%,.96);border-radius:.46875rem;padding-right:.390625rem;padding-left:.390625rem;display:-webkit-box;display:-ms-flexbox;display:flex;box-shadow:0 1px 3px 0 rgba(0,0,0,.15);-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.register-form .register-toolbar .btn-login:active{background-color:hsla(0,0%,100%,.7)}.register-form .form-control{position:relative;margin-bottom:.234375rem}.register-form .form-control::-webkit-input-placeholder{color:#c7c6c5}.register-form .form-control::-moz-placeholder{color:#c7c6c5}.register-form .form-control:-ms-input-placeholder{color:#c7c6c5}.register-form .form-control::placeholder{color:#c7c6c5}.register-form .form-control [type=email],.register-form .form-control [type=password],.register-form .form-control [type=text]{font-size:.4375rem;display:block;border:0;background-color:#fff;border-radius:.03125rem;width:100%;height:1.125rem;padding-right:.46875rem;padding-left:.46875rem;box-shadow:0 1px 3px 0 rgba(0,0,0,.15)}.register-form .form-control .error{font-size:.34375rem;line-height:1.4;color:#fff;background-color:#ffbe00;box-shadow:0 1px 3px 0 rgba(0,0,0,.15);border-radius:.03125rem;padding:.125rem .46875rem;margin-top:.234375rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.register-form .form-control .error i{margin-right:.5em}.register-form .form-submit{margin-top:.78125rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.register-form .form-submit button{font-size:.5rem;height:1.125rem;text-indent:.75em;letter-spacing:.75em;color:#474747;border:0;background-color:#fff;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;box-shadow:0 1px 3px 0 rgba(0,0,0,.15);margin-right:auto;margin-left:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:.0625rem;padding-right:.9375rem;padding-left:.9375rem}.register-form .form-submit button:disabled,.register-form .form-submit button[disabled]{cursor:not-allowed;color:#aaa;background-color:#eee}.register-form .form-submit button:active{color:#fff;background-color:#00b3b5}.register-form .form-help{font-size:.4375rem;text-align:center;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:.703125rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.register-form .form-help a{text-decoration:underline;color:#fff}.register-form .form-help a:active{color:hsla(0,0%,100%,.8)}.register-form .form-help label{margin-right:.1171875rem;margin-left:.1171875rem}.register-form [type=checkbox]{z-index:-1;opacity:0;width:0;height:0;position:absolute;top:0;left:0}.register-form [type=checkbox]+.checkbox{font-size:.3125rem;color:#fff;background-color:#eee;border-radius:50%;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.register-form [type=checkbox]+.checkbox,.register-form [type=checkbox]+.checkbox:after{width:.625rem;height:.625rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.register-form [type=checkbox]+.checkbox:after{font-family:font-osd;content:'\\E612'}.register-form [type=checkbox]:checked+.checkbox{background-color:#9bd200}",""])},359:function(e,r,t){var o=t(313);"string"==typeof o&&(o=[[e.id,o,""]]);t(7)(o,{});o.locals&&(e.exports=o.locals)},417:function(e,r){e.exports='<div class=register-form><div class=register-toolbar><a v-on:click=back v-if="$route.name !== \'register-union\'" class=btn-back><i class="font-osd icon-chevronleft"></i></a><a v-link="{ name: \'login\' }" v-if="$route.name !== \'register-union\'" class=btn-login>登录已有账号</a></div><validator name=validationRegister><form novalidate=novalidate><div class=form-control><input type=email placeholder=邮箱地址 initial=off detect-change=off detect-blur=on v-on:focus=toggleLockScroll v-model=params.email v-validate:email="[\'email\']" v-bind:disabled=loading /><div v-show=$validationRegister.email.email transition=fade class="error animated"><i class="font-osd icon-exclamationtriangle"></i><span>{{ $validationRegister.email.email }}</span></div></div><div class=form-control><input type=text placeholder=昵称 v-bind:value=$route.query.nick v-on:focus=toggleLockScroll initial=off detect-change=off detect-blur=on v-model=params.nickname v-validate:nickname="[\'nickname\']" v-bind:disabled=loading /><div v-show=$validationRegister.nickname.nickname transition=fade class="error animated"><i class="font-osd icon-exclamationtriangle"></i><span>{{ $validationRegister.nickname.nickname }}</span></div></div><div class=form-control><input type=password placeholder=创建密码 v-on:focus=toggleLockScroll initial=off detect-change=off detect-blur=on v-model=params.password v-validate:password="{ required: true, minlength: 6, maxlength: 16 }" v-bind:disabled=loading /><input type=hidden v-model="params[\'password-recheck\']" v-bind:value=params.password /><div v-show="$validationRegister.password.required || $validationRegister.password.minlength || $validationRegister.password.maxlength" transition=fade class="error animated"><i class="font-osd icon-exclamationtriangle"></i><span>密码为6-16位半角字符(由数字、字母、符号组成)</span></div></div><div class=form-submit><button type=button v-on:click=submit(this) v-bind:disabled="!$validationRegister.valid || !params.email || !params.nickname || params.password.length &lt; 6 || params.password.length &gt; 16 || !params.agree || loading">注册</button></div><div class=form-help><input id=register-agree type=checkbox checked=checked v-model=params.agree /><label for=register-agree class=checkbox></label><label for=register-agree>我已阅读<a href=javascript:void(0)>服务协议</a></label></div></form></validator></div>'}});