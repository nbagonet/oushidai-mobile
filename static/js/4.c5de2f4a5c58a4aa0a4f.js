webpackJsonp([4,29],{6:function(e,t){"use strict";function o(e,t,o){var r=JSON.parse(e.data),n=r.error,i=r.errmsg,a=r.data;1e3===Number(n)?"function"==typeof t?t.call(this,a):console.log(e):"function"==typeof o&&o.call(this,i,n)}function r(e,t){console.error("[接口错误]\n接口地址："+e+"\n错误信息："+t)}function n(e,t){var o=new RegExp("\\?(?:.+&)?"+t+"=(.*?)(?:&.*)?$"),r=e.toString().match(o);return r?r[1]:""}Object.defineProperty(t,"__esModule",{value:!0}),t.handleResponse=o,t.APIError=r,t.getURLParam=n},24:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=window.$,r=(t.setBreadcrumbs=function(e,t){var o=e.dispatch;e.state;o("SET_BREADCRUMBS_INFO",t)},t.showSidebarMenuBtn=function(e,t){var o=e.dispatch;e.state;"boolean"==typeof t?o("TOGGLE_SIDEBAR_MENU_BTN",t):console.error("参数应为boolen，请检查")},t.toggleFixed=function(e,t){var o=e.dispatch;e.state;"boolean"==typeof t?o("TOGGLE_TOPBAR_FIXED",t):console.error("参数应为boolen，请检查")});t.bindScroll=function(e){var t=e.dispatch,n=e.state,i=o(window).scrollTop(),a=document.querySelector(".topbar").clientHeight+10;o(window).on("scroll.fixTopbar",function(e){var s=o("body").height(),c=window.screen.availHeight,l=document.body.scrollTop||document.documentElement.scrollTop;l<=a?r({dispatch:t,state:n},!1):i<l||l+c>=s?r({dispatch:t,state:n},!1):r({dispatch:t,state:n},!0),i=l})}},26:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.scrollTo=t.scrollTopPos=t.setApp=t.checkRouterDirection=t.shareToTwitter=t.shareToFacebook=t.shareToQZone=t.shareToWeibo=t.setWeixinShare=t.checkInWeiXin=t.loadLocation=t.toggleLockScroll=t.removeHTMLTag=t.setShareInfo=t.getStringLength=void 0;var n=o(27),i=r(n),a=o(28),s=o(6),c=window.$;t.getStringLength=function(e){if("undefined"==typeof e)return 0;var t=e.match(/[\u4e00-\u9fa5]/g);return e.length+(t?t.length:0)},t.setShareInfo=function(e,t){var o=e.dispatch;e.state;o("SET_SHARE_INFO",t)},t.removeHTMLTag=function(e){return e=e.replace(/<\/?[^>]*>/g,""),e=e.replace(/&nbsp;/gi,"")},t.toggleLockScroll=function(e,t){var o=e.dispatch;e.state;o("TOGGLE_LOCK_SCROLL",t)},t.loadLocation=function(e){var t=e.dispatch,o=(e.state,"eu");i["default"].get("location")&&(o=i["default"].get("location")),t("SET_LOCAL",o)},t.checkInWeiXin=function(e){var t=e.dispatch;e.state;navigator.userAgent.toLowerCase().indexOf("micromessenger")!==-1?t("IN_WEIXIN",!0):t("IN_WEIXIN",!1)},t.setWeixinShare=function(e){var t=(e.dispatch,e.state),o=window.$info;window.wx.config({debug:!1,appId:o.shareConf.weixin.appId,timestamp:o.shareConf.weixin.timestamp,nonceStr:o.shareConf.weixin.nonceStr,signature:o.shareConf.weixin.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]}),window.wx.onMenuShareTimeline({title:t.shareInfo.title,link:window.location.href,imgUrl:t.shareInfo.image,success:function(){},cancel:function(){}}),window.wx.onMenuShareAppMessage({title:t.shareInfo.title,link:window.location.href,desc:t.shareInfo.description,imgUrl:t.shareInfo.image,type:"link",dataUrl:"",success:function(){},cancel:function(){}})},t.shareToWeibo=function(e){var t=(e.dispatch,e.state),o=window.$info,r=function(){for(var e="",o=0;o<t.shareInfo.tags.length;o++)e+="#"+t.shareInfo.tags[o].tag+"#";return e},n=(0,a.substr2)(t.shareInfo.description,100,!0),i={url:encodeURIComponent(window.location.href),appkey:o.shareConf.weibo.appkey,title:encodeURIComponent("《"+t.shareInfo.title+"》"+r()+n),ralateUid:o.shareConf.weibo.ralateUid,pic:encodeURIComponent(t.shareInfo.image),lang:"zh_cn"},s="http://service.weibo.com/share/share.php?url="+i.url+"&appkey="+i.appkey+"&title="+i.title+"&pic="+i.pic+"&ralateUid="+i.ralateUid+"&language="+i.lang+"&searchPic=true";window.open(s,"shareWindow","directories=no,fullscreen=no,height=600,width=800,left=100,top=100,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,titlebar=yes,toolbar=no")},t.shareToQZone=function(e){var t=(e.dispatch,e.state),o=window.$info,r={url:window.location.href,showcount:"0",desc:"",summary:(0,a.substr2)(t.shareInfo.description,100,!0),title:t.shareInfo.title,site:o.shareConf.qzone.site,pics:t.shareInfo.image,style:"203",width:22,height:22},n=[];for(var i in r)n.push(i+"="+encodeURIComponent(r[i]||""));var s="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+n.join("&");window.open(s,"shareWindow","directories=no,fullscreen=no,height=400,width=600,left=100,top=100,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,titlebar=yes,toolbar=no")},t.shareToFacebook=function(e){var t=(e.dispatch,e.state,window.$info),o={app_id:t.shareConf.facebook.appid,href:encodeURIComponent(window.location.href)},r=[];for(var n in o)r.push(n+"="+encodeURIComponent(o[n]||""));var i="https://www.facebook.com/dialog/share?"+r.join("&");window.open(i,"shareWindow","directories=no,fullscreen=no,height=600,width=800,left=100,top=100,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,titlebar=yes,toolbar=no")},t.shareToTwitter=function(e){var t=(e.dispatch,e.state),o=window.$info,r={text:"《"+t.shareInfo.title+"》"+(0,a.substr2)(t.shareInfo.description,50,!0),url:window.location.href,nick:o.shareConf.twitter.nick},n=[];for(var i in r)n.push(i+"="+encodeURIComponent(r[i]||""));var s="https://twitter.com/intent/tweet?"+n.join("&")+"hashtags=&related=&in-reply-to=";window.open(s,"shareWindow","directories=no,fullscreen=no,height=600,width=800,left=100,top=100,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,titlebar=yes,toolbar=no")},t.checkRouterDirection=function(e){console.log(e.from,e.to)},t.setApp=function(e,t){var o=e.dispatch,r=e.state,n=navigator.userAgent.toLowerCase(),i=!!n.match(/iphone/i),a=!!n.match(/android/i),c=r.apis["app-download"],l=void 0;l=i?"iphone":a?"android":"others",t.$http.post(c,{type:l}).then(function(e){(0,s.handleResponse)(e,function(e){e.link&&o("SET_APP_LINK",e.link)})})},t.scrollTopPos=function(){return c("body").scrollTop()},t.scrollTo=function(e,t){e.dispatch,e.state;c("body").scrollTop(t)}},27:function(e,t,o){var r,n,i;(function(o){"use strict";!function(o,a){n=[],r=a,i="function"==typeof r?r.apply(t,n):r,!(void 0!==i&&(e.exports=i))}(this,function(){function e(){try{return a in n&&n[a]}catch(e){return!1}}var t,r={},n="undefined"!=typeof window?window:o,i=n.document,a="localStorage",s="script";if(r.disabled=!1,r.version="1.3.20",r.set=function(e,t){},r.get=function(e,t){},r.has=function(e){return void 0!==r.get(e)},r.remove=function(e){},r.clear=function(){},r.transact=function(e,t,o){null==o&&(o=t,t=null),null==t&&(t={});var n=r.get(e,t);o(n),r.set(e,n)},r.getAll=function(){},r.forEach=function(){},r.serialize=function(e){return JSON.stringify(e)},r.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},e())t=n[a],r.set=function(e,o){return void 0===o?r.remove(e):(t.setItem(e,r.serialize(o)),o)},r.get=function(e,o){var n=r.deserialize(t.getItem(e));return void 0===n?o:n},r.remove=function(e){t.removeItem(e)},r.clear=function(){t.clear()},r.getAll=function(){var e={};return r.forEach(function(t,o){e[t]=o}),e},r.forEach=function(e){for(var o=0;o<t.length;o++){var n=t.key(o);e(n,r.get(n))}};else if(i&&i.documentElement.addBehavior){var c,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),l.close(),c=l.w.frames[0].document,t=c.createElement("div")}catch(d){t=i.createElement("div"),c=i.body}var f=function(e){return function(){var o=Array.prototype.slice.call(arguments,0);o.unshift(t),c.appendChild(t),t.addBehavior("#default#userData"),t.load(a);var n=e.apply(r,o);return c.removeChild(t),n}},u=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),m=function(e){return e.replace(/^d/,"___$&").replace(u,"___")};r.set=f(function(e,t,o){return t=m(t),void 0===o?r.remove(t):(e.setAttribute(t,r.serialize(o)),e.save(a),o)}),r.get=f(function(e,t,o){t=m(t);var n=r.deserialize(e.getAttribute(t));return void 0===n?o:n}),r.remove=f(function(e,t){t=m(t),e.removeAttribute(t),e.save(a)}),r.clear=f(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(a);for(var o=t.length-1;o>=0;o--)e.removeAttribute(t[o].name);e.save(a)}),r.getAll=function(e){var t={};return r.forEach(function(e,o){t[e]=o}),t},r.forEach=f(function(e,t){for(var o,n=e.XMLDocument.documentElement.attributes,i=0;o=n[i];++i)t(o.name,r.deserialize(e.getAttribute(o.name)))})}try{var p="__storejs__";r.set(p,p),r.get(p)!=p&&(r.disabled=!0),r.remove(p)}catch(d){r.disabled=!0}return r.enabled=!r.disabled,r})}).call(t,function(){return this}())},165:function(e,t,o){var r,n;o(382),r=o(263),n=o(440),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},196:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submit=t.reset=t.init=void 0;var r=o(6),n=(t.init=function(e,t){var o=e.dispatch,r=e.state;if(n({dispatch:o,state:r},t),r.isLogin)t.$router.go({name:"home"});else{var i=r.apis.register,a=t.$route.query.union;o("SET_REGISTER_PORT",i),a&&o("SET_REGISTER_PARAMS",{union:a})}},t.reset=function(e,t){var o=e.dispatch;e.state;o("RESET_REGISTER_STATE")});t.submit=function(e,t){var o=e.dispatch,n=e.state,i=n.registerForm.port,a=n.registerForm.params;o("GLOBAL_LOADING",!0),t.$http.post(i,a).then(function(e){(0,r.handleResponse)(e,function(e){o("GLOBAL_LOADING",!1),t.$router.go({name:"register-success"})},function(e,t){(0,r.APIError)(i,e),window.alert(e),o("GLOBAL_LOADING",!1)})},function(e){window.alert("注册信息提交失败，请稍后重试"),o("GLOBAL_LOADING",!1)})}},263:function(e,t,o){"use strict";var r=o(24),n=o(26),i=o(196);e.exports={name:"register-form",vuex:{getters:{breadcrumbs:function(e){return e.topbar.breadcrumbs},port:function(e){return e.registerForm.port},params:function(e){return e.registerForm.params},loading:function(e){return e.loading}},actions:{setBreadcrumbs:r.setBreadcrumbs,toggleLockScroll:n.toggleLockScroll,submit:i.submit,init:i.init}},methods:{back:function(){window.history.go(-1)}},route:{canReuse:!1},ready:function(){this.setBreadcrumbs(this.$route.breadcrumbs),this.init(this)}}},337:function(e,t,o){t=e.exports=o(7)(),t.push([e.id,".register-form{margin-right:.3125rem;margin-left:.3125rem;padding-top:1.40625rem}.register-form .register-toolbar{margin-bottom:.703125rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.register-form .register-toolbar,.register-form .register-toolbar .btn-back{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.register-form .register-toolbar .btn-back{font-size:.5rem;color:#464646;background-color:hsla(0,0%,100%,.96);margin-right:auto;border-radius:50%;box-shadow:0 1px 3px 0 rgba(0,0,0,.15);width:.9375rem;height:.9375rem;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.register-form .register-toolbar .btn-back:active{background-color:hsla(0,0%,100%,.7)}.register-form .register-toolbar .btn-login{font-size:.4375rem;height:.9375rem;color:#464646;background-color:hsla(0,0%,100%,.96);border-radius:.46875rem;padding-right:.390625rem;padding-left:.390625rem;display:-webkit-box;display:-ms-flexbox;display:flex;box-shadow:0 1px 3px 0 rgba(0,0,0,.15);-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.register-form .register-toolbar .btn-login:active{background-color:hsla(0,0%,100%,.7)}.register-form .form-control{position:relative;margin-bottom:.234375rem}.register-form .form-control::-webkit-input-placeholder{color:#c7c6c5}.register-form .form-control::-moz-placeholder{color:#c7c6c5}.register-form .form-control:-ms-input-placeholder{color:#c7c6c5}.register-form .form-control::placeholder{color:#c7c6c5}.register-form .form-control [type=email],.register-form .form-control [type=password],.register-form .form-control [type=text]{font-size:.4375rem;display:block;border:0;background-color:#fff;border-radius:.03125rem;width:100%;height:1.125rem;padding-right:.46875rem;padding-left:.46875rem;box-shadow:0 1px 3px 0 rgba(0,0,0,.15)}.register-form .form-control .error{font-size:.34375rem;line-height:1.4;color:#fff;background-color:#ffbe00;box-shadow:0 1px 3px 0 rgba(0,0,0,.15);border-radius:.03125rem;padding:.125rem .46875rem;margin-top:.234375rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.register-form .form-control .error i{margin-right:.5em}.register-form .form-submit{margin-top:.78125rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.register-form .form-submit button{font-size:.5rem;height:1.125rem;text-indent:.75em;letter-spacing:.75em;color:#474747;border:0;background-color:#fff;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;box-shadow:0 1px 3px 0 rgba(0,0,0,.15);margin-right:auto;margin-left:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:.0625rem;padding-right:.9375rem;padding-left:.9375rem}.register-form .form-submit button:disabled,.register-form .form-submit button[disabled]{cursor:not-allowed;color:#aaa;background-color:#eee}.register-form .form-submit button:active{color:#fff;background-color:#00b3b5}.register-form .form-help{font-size:.4375rem;text-align:center;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:.703125rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.register-form .form-help a{text-decoration:underline;color:#fff}.register-form .form-help a:active{color:hsla(0,0%,100%,.8)}.register-form .form-help label{margin-right:.1171875rem;margin-left:.1171875rem}.register-form [type=checkbox]{z-index:-1;opacity:0;width:0;height:0;position:absolute;top:0;left:0}.register-form [type=checkbox]+.checkbox{font-size:.3125rem;color:#fff;background-color:#eee;border-radius:50%;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.register-form [type=checkbox]+.checkbox,.register-form [type=checkbox]+.checkbox:after{width:.625rem;height:.625rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.register-form [type=checkbox]+.checkbox:after{font-family:font-osd;content:'\\E612'}.register-form [type=checkbox]:checked+.checkbox{background-color:#9bd200}",""])},382:function(e,t,o){var r=o(337);"string"==typeof r&&(r=[[e.id,r,""]]);o(8)(r,{});r.locals&&(e.exports=r.locals)},440:function(e,t){e.exports='<div class=register-form><div class=register-toolbar><a v-on:click=back v-if="$route.name !== \'register-union\'" class=btn-back><i class="font-osd icon-chevronleft"></i></a><a v-link="{ name: \'login\' }" v-if="$route.name !== \'register-union\'" class=btn-login>登录已有账号</a></div><validator name=validationRegister><form novalidate=novalidate><div class=form-control><input type=email placeholder=邮箱地址 initial=off detect-change=off detect-blur=on v-on:focus=toggleLockScroll v-model=params.email v-validate:email="[\'email\']" v-bind:disabled=loading /><div v-show=$validationRegister.email.email transition=fade class="error animated"><i class="font-osd icon-exclamationtriangle"></i><span>{{ $validationRegister.email.email }}</span></div></div><div class=form-control><input type=text placeholder=昵称 v-bind:value=$route.query.nick v-on:focus=toggleLockScroll initial=off detect-change=off detect-blur=on v-model=params.nickname v-validate:nickname="[\'nickname\']" v-bind:disabled=loading /><div v-show=$validationRegister.nickname.nickname transition=fade class="error animated"><i class="font-osd icon-exclamationtriangle"></i><span>{{ $validationRegister.nickname.nickname }}</span></div></div><div class=form-control><input type=password placeholder=创建密码 v-on:focus=toggleLockScroll initial=off detect-change=off detect-blur=on v-model=params.password v-validate:password="{ required: true, minlength: 6, maxlength: 16 }" v-bind:disabled=loading /><input type=hidden v-model="params[\'password-recheck\']" v-bind:value=params.password /><div v-show="$validationRegister.password.required || $validationRegister.password.minlength || $validationRegister.password.maxlength" transition=fade class="error animated"><i class="font-osd icon-exclamationtriangle"></i><span>密码为6-16位半角字符(由数字、字母、符号组成)</span></div></div><div class=form-submit><button type=button v-on:click=submit(this) v-bind:disabled="!$validationRegister.valid || !params.email || !params.nickname || params.password.length &lt; 6 || params.password.length &gt; 16 || !params.agree || loading">注册</button></div><div class=form-help><input id=register-agree type=checkbox checked=checked v-model=params.agree /><label for=register-agree class=checkbox></label><label for=register-agree>我已阅读<a href=javascript:void(0)>服务协议</a></label></div></form></validator></div>'}});