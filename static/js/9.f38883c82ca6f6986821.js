webpackJsonp([9,29],{6:function(e,t){"use strict";function o(e,t,o){var n=JSON.parse(e.data),i=n.error,r=n.errmsg,a=n.data;1e3===Number(i)?"function"==typeof t?t.call(this,a):console.log(e):"function"==typeof o&&o.call(this,r,i)}function n(e,t){console.error("[接口错误]\n接口地址："+e+"\n错误信息："+t)}function i(e,t){var o=new RegExp("\\?(?:.+&)?"+t+"=(.*?)(?:&.*)?$"),n=e.toString().match(o);return n?n[1]:""}Object.defineProperty(t,"__esModule",{value:!0}),t.handleResponse=o,t.APIError=n,t.getURLParam=i},24:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=window.$,n=(t.setBreadcrumbs=function(e,t){var o=e.dispatch;e.state;o("SET_BREADCRUMBS_INFO",t)},t.showSidebarMenuBtn=function(e,t){var o=e.dispatch;e.state;"boolean"==typeof t?o("TOGGLE_SIDEBAR_MENU_BTN",t):console.error("参数应为boolen，请检查")},t.toggleFixed=function(e,t){var o=e.dispatch;e.state;"boolean"==typeof t?o("TOGGLE_TOPBAR_FIXED",t):console.error("参数应为boolen，请检查")});t.bindScroll=function(e){var t=e.dispatch,i=e.state,r=o(window).scrollTop(),a=document.querySelector(".topbar").clientHeight+10;o(window).on("scroll.fixTopbar",function(e){var s=o("body").height(),c=window.screen.availHeight,l=document.body.scrollTop||document.documentElement.scrollTop;l<=a?n({dispatch:t,state:i},!1):r<l||l+c>=s?n({dispatch:t,state:i},!1):n({dispatch:t,state:i},!0),r=l})}},25:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.downloadApp=t.toggleSidemenu=void 0;var n=o(6);t.toggleSidemenu=function(e,t){var o=e.dispatch,n=e.state;if("boolean"!=typeof t){var i=!1;i=!n.sidemenu.show,o("TOGGLE_SIDEMENU",i),o("TOGGLE_LOCK_SCROLL",i)}else o("TOGGLE_SIDEMENU",t),o("TOGGLE_LOCK_SCROLL",t)},t.downloadApp=function(e,t){var o=e.dispatch,i=e.state,r=navigator.userAgent.toLowerCase(),a=!!r.match(/iphone/i),s=!!r.match(/android/i),c=i.apis["app-download"],l=void 0;l=a?"iphone":s?"android":"others",t.$http.post(c,{type:l}).then(function(e){(0,n.handleResponse)(e,function(e){e.link&&o("SET_APP_LINK",e.link)})})}},26:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.scrollTo=t.scrollTopPos=t.setApp=t.checkRouterDirection=t.shareToTwitter=t.shareToFacebook=t.shareToQZone=t.shareToWeibo=t.setWeixinShare=t.checkInWeiXin=t.loadLocation=t.toggleLockScroll=t.removeHTMLTag=t.setShareInfo=t.getStringLength=void 0;var i=o(27),r=n(i),a=o(28),s=o(6),c=window.$;t.getStringLength=function(e){if("undefined"==typeof e)return 0;var t=e.match(/[\u4e00-\u9fa5]/g);return e.length+(t?t.length:0)},t.setShareInfo=function(e,t){var o=e.dispatch;e.state;o("SET_SHARE_INFO",t)},t.removeHTMLTag=function(e){return e=e.replace(/<\/?[^>]*>/g,""),e=e.replace(/&nbsp;/gi,"")},t.toggleLockScroll=function(e,t){var o=e.dispatch;e.state;o("TOGGLE_LOCK_SCROLL",t)},t.loadLocation=function(e){var t=e.dispatch,o=(e.state,"eu");r["default"].get("location")&&(o=r["default"].get("location")),t("SET_LOCAL",o)},t.checkInWeiXin=function(e){var t=e.dispatch;e.state;navigator.userAgent.toLowerCase().indexOf("micromessenger")!==-1?t("IN_WEIXIN",!0):t("IN_WEIXIN",!1)},t.setWeixinShare=function(e){var t=(e.dispatch,e.state),o=window.$info;window.wx.config({debug:!1,appId:o.shareConf.weixin.appId,timestamp:o.shareConf.weixin.timestamp,nonceStr:o.shareConf.weixin.nonceStr,signature:o.shareConf.weixin.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]}),window.wx.onMenuShareTimeline({title:t.shareInfo.title,link:window.location.href,imgUrl:t.shareInfo.image,success:function(){},cancel:function(){}}),window.wx.onMenuShareAppMessage({title:t.shareInfo.title,link:window.location.href,desc:t.shareInfo.description,imgUrl:t.shareInfo.image,type:"link",dataUrl:"",success:function(){},cancel:function(){}})},t.shareToWeibo=function(e){var t=(e.dispatch,e.state),o=window.$info,n=function(){for(var e="",o=0;o<t.shareInfo.tags.length;o++)e+="#"+t.shareInfo.tags[o].tag+"#";return e},i=(0,a.substr2)(t.shareInfo.description,100,!0),r={url:encodeURIComponent(window.location.href),appkey:o.shareConf.weibo.appkey,title:encodeURIComponent("《"+t.shareInfo.title+"》"+n()+i),ralateUid:o.shareConf.weibo.ralateUid,pic:encodeURIComponent(t.shareInfo.image),lang:"zh_cn"},s="http://service.weibo.com/share/share.php?url="+r.url+"&appkey="+r.appkey+"&title="+r.title+"&pic="+r.pic+"&ralateUid="+r.ralateUid+"&language="+r.lang+"&searchPic=true";window.open(s,"shareWindow","directories=no,fullscreen=no,height=600,width=800,left=100,top=100,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,titlebar=yes,toolbar=no")},t.shareToQZone=function(e){var t=(e.dispatch,e.state),o=window.$info,n={url:window.location.href,showcount:"0",desc:"",summary:(0,a.substr2)(t.shareInfo.description,100,!0),title:t.shareInfo.title,site:o.shareConf.qzone.site,pics:t.shareInfo.image,style:"203",width:22,height:22},i=[];for(var r in n)i.push(r+"="+encodeURIComponent(n[r]||""));var s="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+i.join("&");window.open(s,"shareWindow","directories=no,fullscreen=no,height=400,width=600,left=100,top=100,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,titlebar=yes,toolbar=no")},t.shareToFacebook=function(e){var t=(e.dispatch,e.state,window.$info),o={app_id:t.shareConf.facebook.appid,href:encodeURIComponent(window.location.href)},n=[];for(var i in o)n.push(i+"="+encodeURIComponent(o[i]||""));var r="https://www.facebook.com/dialog/share?"+n.join("&");window.open(r,"shareWindow","directories=no,fullscreen=no,height=600,width=800,left=100,top=100,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,titlebar=yes,toolbar=no")},t.shareToTwitter=function(e){var t=(e.dispatch,e.state),o=window.$info,n={text:"《"+t.shareInfo.title+"》"+(0,a.substr2)(t.shareInfo.description,50,!0),url:window.location.href,nick:o.shareConf.twitter.nick},i=[];for(var r in n)i.push(r+"="+encodeURIComponent(n[r]||""));var s="https://twitter.com/intent/tweet?"+i.join("&")+"hashtags=&related=&in-reply-to=";window.open(s,"shareWindow","directories=no,fullscreen=no,height=600,width=800,left=100,top=100,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,titlebar=yes,toolbar=no")},t.checkRouterDirection=function(e){console.log(e.from,e.to)},t.setApp=function(e,t){var o=e.dispatch,n=e.state,i=navigator.userAgent.toLowerCase(),r=!!i.match(/iphone/i),a=!!i.match(/android/i),c=n.apis["app-download"],l=void 0;l=r?"iphone":a?"android":"others",t.$http.post(c,{type:l}).then(function(e){(0,s.handleResponse)(e,function(e){e.link&&o("SET_APP_LINK",e.link)})})},t.scrollTopPos=function(){return c("body").scrollTop()},t.scrollTo=function(e,t){e.dispatch,e.state;c("body").scrollTop(t)}},27:function(e,t,o){var n,i,r;(function(o){"use strict";!function(o,a){i=[],n=a,r="function"==typeof n?n.apply(t,i):n,!(void 0!==r&&(e.exports=r))}(this,function(){function e(){try{return a in i&&i[a]}catch(e){return!1}}var t,n={},i="undefined"!=typeof window?window:o,r=i.document,a="localStorage",s="script";if(n.disabled=!1,n.version="1.3.20",n.set=function(e,t){},n.get=function(e,t){},n.has=function(e){return void 0!==n.get(e)},n.remove=function(e){},n.clear=function(){},n.transact=function(e,t,o){null==o&&(o=t,t=null),null==t&&(t={});var i=n.get(e,t);o(i),n.set(e,i)},n.getAll=function(){},n.forEach=function(){},n.serialize=function(e){return JSON.stringify(e)},n.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},e())t=i[a],n.set=function(e,o){return void 0===o?n.remove(e):(t.setItem(e,n.serialize(o)),o)},n.get=function(e,o){var i=n.deserialize(t.getItem(e));return void 0===i?o:i},n.remove=function(e){t.removeItem(e)},n.clear=function(){t.clear()},n.getAll=function(){var e={};return n.forEach(function(t,o){e[t]=o}),e},n.forEach=function(e){for(var o=0;o<t.length;o++){var i=t.key(o);e(i,n.get(i))}};else if(r&&r.documentElement.addBehavior){var c,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),l.close(),c=l.w.frames[0].document,t=c.createElement("div")}catch(u){t=r.createElement("div"),c=r.body}var d=function(e){return function(){var o=Array.prototype.slice.call(arguments,0);o.unshift(t),c.appendChild(t),t.addBehavior("#default#userData"),t.load(a);var i=e.apply(n,o);return c.removeChild(t),i}},f=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),p=function(e){return e.replace(/^d/,"___$&").replace(f,"___")};n.set=d(function(e,t,o){return t=p(t),void 0===o?n.remove(t):(e.setAttribute(t,n.serialize(o)),e.save(a),o)}),n.get=d(function(e,t,o){t=p(t);var i=n.deserialize(e.getAttribute(t));return void 0===i?o:i}),n.remove=d(function(e,t){t=p(t),e.removeAttribute(t),e.save(a)}),n.clear=d(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(a);for(var o=t.length-1;o>=0;o--)e.removeAttribute(t[o].name);e.save(a)}),n.getAll=function(e){var t={};return n.forEach(function(e,o){t[e]=o}),t},n.forEach=d(function(e,t){for(var o,i=e.XMLDocument.documentElement.attributes,r=0;o=i[r];++r)t(o.name,n.deserialize(e.getAttribute(o.name)))})}try{var h="__storejs__";n.set(h,h),n.get(h)!=h&&(n.disabled=!0),n.remove(h)}catch(u){n.disabled=!0}return n.enabled=!n.disabled,n})}).call(t,function(){return this}())},174:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){var o=e.dispatch,n=e.state,i=n.apis["activity-focus"],r=n.apis["activity-list"],a=t.$route.query.category,s=t.$route.query.tagid,c={page:1,type:"",category:a?decodeURIComponent(a):"",tagid:s?decodeURIComponent(s):"",loc:t.$route.query.loc?decodeURIComponent(t.$route.query.loc):"",act:t.$route.query.act?decodeURIComponent(t.$route.query.act):"",userPageId:"",userPageType:""};a||s?(o("SET_EVENT_HOME_EVENT_FOCUS_CONFIG",{show:!1,port:i,showFilter:!1,filterLink:"activity-filter"}),o("SET_EVENT_HOME_TOP_HEADER_CONFIG",{show:!0,filterLink:"activity-filter",title:"筛选结果"})):(o("SET_EVENT_HOME_EVENT_FOCUS_CONFIG",{show:!0,port:i,showFilter:!0,filterLink:"activity-filter"}),o("SET_EVENT_HOME_TOP_HEADER_CONFIG",{show:!1,filterLink:"activity-filter",title:"筛选结果"})),o("SET_EVENT_HOME_EVENT_LIST_CONFIG",r,c)};t.initEventHome=function(e,t){var n=e.dispatch,i=e.state;o({dispatch:n,state:i},t)}},233:function(e,t,o){"use strict";var n=o(25),i=o(24),r=o(174),a=o(26);e.exports={name:"activity-home",vuex:{getters:{stateSidemenu:function(e){return e.sidemenu},componentConfig:function(e){return e.activityHome}},actions:{toggleSidemenu:n.toggleSidemenu,setBreadcrumbs:i.setBreadcrumbs,initEventHome:r.initEventHome,scrollTopPos:a.scrollTopPos,scrollTo:a.scrollTo}},components:{topheader:function(e){o.e(32,function(t){var o=[t(31)];e.apply(null,o)}.bind(this))},"focus-thumb":function(e){console.log("temp",e),o.e(43,function(t){var o=[t(50)];e.apply(null,o)}.bind(this))},"activity-list":function(e){o.e(34,function(t){var o=[t(161)];e.apply(null,o)}.bind(this))}},route:{canReuse:!1},created:function(){this.initEventHome(this)},ready:function(){this.toggleSidemenu(!1),this.setBreadcrumbs(this.$route.breadcrumbs),console.log("1111",this.$store.state.activityHome.scroll),this.scrollTo(200)},beforeDestory:function(){console.log("222",this.scrollTopPos()),this.$dispatch("SET_EVENT_HOME_SCROLL",this.scrollTopPos())}}},307:function(e,t,o){t=e.exports=o(7)(),t.push([e.id,"",""])},352:function(e,t,o){var n=o(307);"string"==typeof n&&(n=[[e.id,n,""]]);o(8)(n,{});n.locals&&(e.exports=n.locals)},410:function(e,t){e.exports="<div class=page-activity-home><topheader v-bind:config=componentConfig.topheader></topheader><focus-thumb v-bind:config=componentConfig.focusThumb></focus-thumb><activity-list v-bind:config=componentConfig.activityList></activity-list></div>"},456:function(e,t,o){var n,i;o(352),n=o(233),i=o(410),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)}});