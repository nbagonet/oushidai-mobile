webpackJsonp([44,29],{6:function(t,e){"use strict";function i(t,e,i){var s=JSON.parse(t.data),o=s.error,n=s.errmsg,a=s.data;1e3===Number(o)?"function"==typeof e?e.call(this,a):console.log(t):"function"==typeof i&&i.call(this,n,o)}function s(t,e){console.error("[接口错误]\n接口地址："+t+"\n错误信息："+e)}function o(t,e){var i=new RegExp("\\?(?:.+&)?"+e+"=(.*?)(?:&.*)?$"),s=t.toString().match(i);return s?s[1]:""}Object.defineProperty(e,"__esModule",{value:!0}),e.handleResponse=i,e.APIError=s,e.getURLParam=o},9:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKAQAAAAClSfIQAAAAAnRSTlMAAQGU/a4AAAANSURBVHgBY/h/AA8CAAdSEXcIxUkmAAAAAElFTkSuQmCC"},198:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reset=e.init=e.toggleActivedItem=e.stopCheckLoadArea=void 0;var s=i(6),o=window.$,n=function(t,e){var i=(t.dispatch,t.state);console.log("配置用户列表组件参数"),i.userList.port=e.config.port,i.userList.params=e.config.params},a=function(t,e){var i=t.dispatch,o=t.state,n=o.userList.port,a=o.userList.params;console.log("请求用户列表组件数据",n,a),i("IS_USER_LIST_LOADING",!0),e.$http.get(n,a).then(function(t){(0,s.handleResponse)(t,function(t){i("IS_USER_LIST_LOADING",!1),i("SET_USER_LIST",t.list),i("SET_USER_LIST_PAGE_NUMBER_PLUS"),r({dispatch:i,state:o},e)},function(t,e){1011===Number(e)?(i("SET_USER_LIST_NODATA",!0),i("SET_USER_LIST_LOCKED",!0)):1099===Number(e)?i("SET_USER_LIST_LOCKED",!0):(0,s.APIError)(n,t),i("IS_USER_LIST_LOADING",!1)})},function(t){window.alert("资讯数据获取失败，请稍后重试"),i("IS_USER_LIST_LOADING",!1)})},r=function(t,e){var i=t.dispatch,s=t.state;o(window).off("scroll.getUserList").on("scroll.getUserList",function(t){var n=o(window).height(),r=o(window).scrollTop(),l=o(e.$el).height(),d=n/100*20,c=s.userList.isLoading,u=s.userList.isLocked,p=n+r+d,f=!c&&!u&&p>=l?1:0;1===f&&a({dispatch:i,state:s},e)})};e.stopCheckLoadArea=function(){o(window).off("scroll.getUserList")},e.toggleActivedItem=function(t,e){var i=t.dispatch;t.state;i("SET_USER_LIST_ACTIVED",e)},e.init=function(t,e){var i=t.dispatch,s=t.state;n({dispatch:i,state:s},e),a({dispatch:i,state:s},e)},e.reset=function(t,e){var i=t.dispatch;t.state;i("RESET_USER_LIST")}},276:function(t,e,i){"use strict";var s=i(198);t.exports={name:"user-list",props:["type","info","config"],vuex:{getters:{list:function(t){return t.userList.list},nodata:function(t){return t.userList.isNoData},locked:function(t){return t.userList.isLocked},loading:function(t){return t.userList.isLoading},activedIndex:function(t){return t.userList.activeIndex}},actions:{init:s.init,reset:s.reset,toggleActivedItem:s.toggleActivedItem,stopCheckLoadArea:s.stopCheckLoadArea}},components:{loading:function(t){i.e(0,function(e){var i=[e(30)];t.apply(null,i)}.bind(this))}},ready:function(){this.init(this)},destroyed:function(){console.log("销毁用户列表组件"),this.stopCheckLoadArea(),this.reset(this)}}},350:function(t,e,i){e=t.exports=i(7)(),e.push([t.id,".user-list .user-list-nodata{font-size:.5rem;text-align:center;color:#5f5f5f;padding-top:.9375rem;padding-bottom:.9375rem}.user-list .user-item{position:relative;height:2.421875rem;margin:.234375rem .3125rem}.user-list .user-item .inner{display:table;min-width:100%;height:2.421875rem;background-color:#fff;box-shadow:0 .03125rem .0625rem rgba(0,0,0,.15);position:absolute;top:0;right:0;bottom:0}.user-list .user-item.active .user-act .btn{width:0;opacity:0;padding-right:0;padding-left:0}.user-list .user-item.active .user-act .link{width:1.90625rem;opacity:1;padding-right:.546875rem;padding-left:.546875rem}.user-list .user-pic{display:table-cell;width:1%;vertical-align:top}.user-list .user-pic .avatar{margin-top:.3125rem;margin-left:.3125rem}.user-list .user-info{display:table-cell;width:98%;vertical-align:top;white-space:nowrap;padding:.3125rem}.user-list .user-info .name{font-size:.40625rem;color:#6b797e;margin-top:.15625rem;margin-bottom:.15625rem}.user-list .user-info .name a{color:#6b797e}.user-list .user-info .name a:active{color:#00e6e8}.user-list .user-info .intro,.user-list .user-info .others{font-size:.3125rem;line-height:1.6;color:#aaa}.user-list .user-info .others{display:-webkit-box;display:-ms-flexbox;display:flex}.user-list .user-act{font-size:0;position:relative;display:table-cell;width:1%;vertical-align:middle;white-space:nowrap}.user-list .user-act:after{overflow:hidden;content:'';background-color:#ecf2f3;width:1px;height:1.640625rem;position:absolute;top:.390625rem;bottom:.390625rem;left:0}.user-list .user-act .btn{overflow:hidden;width:1.21875rem;vertical-align:middle;opacity:1;padding-right:.546875rem;padding-left:.546875rem;display:inline-block}.user-list .user-act .btn,.user-list .user-act .btn>span{-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.user-list .user-act .btn>span{display:block;background-color:#434748;border-radius:50%;margin-top:.0625rem;margin-bottom:.0625rem;width:.125rem;height:.125rem}.user-list .user-act .btn:active>span{background-color:#00e6e8}.user-list .user-act .link{font-size:.40625rem;overflow:hidden;width:1px;vertical-align:middle;opacity:0;padding-right:0;padding-left:0;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;display:inline-block}.user-list .user-act .link a{color:#00cdd7}.user-list .user-act .link a:active{color:#00e6e8}",""])},395:function(t,e,i){var s=i(350);"string"==typeof s&&(s=[[t.id,s,""]]);i(8)(s,{});s.locals&&(t.exports=s.locals)},453:function(t,e,i){t.exports='<div class=user-list><div v-if=nodata transition=fade class="user-list-nodata animated"><p>暂无相关内容</p></div><div v-if=!nodata class=user-list><div v-bind:class="{ \'active\': activedIndex === index }" v-for="(index, item) in list" transition=fade class="user-item animated"><div class=inner><div v-on:click=toggleActivedItem(-1) class=user-pic><div class="avatar avatar-lg"><div class=pic><img src='+i(9)+" v-bind:style=\"{ backgroundImage: 'url(' + item.info.avatar + ')' }\"/></div></div></div><div v-on:click=toggleActivedItem(-1) class=user-info><div class=name>{{ item.info.name }}</div><div class=intro>{{ item.info.intro | substr2 28 true }}</div><div class=others><div class=followed>关注: {{ item.info.follow | formatNum }}</div><div class=fans>粉丝: {{ item.info.fans | formatNum }}</div></div></div><div v-if=\"item.info.type[0]['name'] != 'user'\" class=user-act><div v-on:click=toggleActivedItem(index) class=btn><span></span><span></span><span></span></div><div class=link><a v-link=\"{ name: item.info.type[0]['name'], params: { id: item.info.uid }}\">主页</a></div></div></div></div></div><loading v-show=loading v-bind:type=list></loading></div>"},486:function(t,e,i){var s,o;i(395),s=i(276),o=i(453),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)}});