webpackJsonp([2,29],{6:function(e,t){"use strict";function n(e,t,n){var o=JSON.parse(e.data),r=o.error,i=o.errmsg,a=o.data;1e3===Number(r)?"function"==typeof t?t.call(this,a):console.log(e):"function"==typeof n&&n.call(this,i,r)}function o(e,t){console.error("[接口错误]\n接口地址："+e+"\n错误信息："+t)}function r(e,t){var n=new RegExp("\\?(?:.+&)?"+t+"=(.*?)(?:&.*)?$"),o=e.toString().match(n);return o?o[1]:""}Object.defineProperty(t,"__esModule",{value:!0}),t.handleResponse=n,t.APIError=o,t.getURLParam=r},24:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.$,o=(t.setBreadcrumbs=function(e,t){var n=e.dispatch;e.state;n("SET_BREADCRUMBS_INFO",t)},t.showSidebarMenuBtn=function(e,t){var n=e.dispatch;e.state;"boolean"==typeof t?n("TOGGLE_SIDEBAR_MENU_BTN",t):console.error("参数应为boolen，请检查")},t.toggleFixed=function(e,t){var n=e.dispatch;e.state;"boolean"==typeof t?n("TOGGLE_TOPBAR_FIXED",t):console.error("参数应为boolen，请检查")});t.bindScroll=function(e){var t=e.dispatch,r=e.state,i=n(window).scrollTop(),a=document.querySelector(".topbar").clientHeight+10;n(window).on("scroll.fixTopbar",function(e){var s=n("body").height(),c=window.screen.availHeight,u=document.body.scrollTop||document.documentElement.scrollTop;u<=a?o({dispatch:t,state:r},!1):i<u||u+c>=s?o({dispatch:t,state:r},!1):o({dispatch:t,state:r},!0),i=u})}},25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.downloadApp=t.toggleSidemenu=void 0;var o=n(6);t.toggleSidemenu=function(e,t){var n=e.dispatch,o=e.state;if("boolean"!=typeof t){var r=!1;r=!o.sidemenu.show,n("TOGGLE_SIDEMENU",r),n("TOGGLE_LOCK_SCROLL",r)}else n("TOGGLE_SIDEMENU",t),n("TOGGLE_LOCK_SCROLL",t)},t.downloadApp=function(e,t){var n=e.dispatch,r=e.state,i=navigator.userAgent.toLowerCase(),a=!!i.match(/iphone/i),s=!!i.match(/android/i),c=r.apis["app-download"],u=void 0;u=a?"iphone":s?"android":"others",t.$http.post(c,{type:u}).then(function(e){(0,o.handleResponse)(e,function(e){e.link&&n("SET_APP_LINK",e.link)})})}},26:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.scrollTo=t.scrollTopPos=t.setApp=t.checkRouterDirection=t.shareToTwitter=t.shareToFacebook=t.shareToQZone=t.shareToWeibo=t.setWeixinShare=t.checkInWeiXin=t.loadLocation=t.toggleLockScroll=t.removeHTMLTag=t.setShareInfo=t.getStringLength=void 0;var r=n(27),i=o(r),a=n(28),s=n(6),c=window.$;t.getStringLength=function(e){if("undefined"==typeof e)return 0;var t=e.match(/[\u4e00-\u9fa5]/g);return e.length+(t?t.length:0)},t.setShareInfo=function(e,t){var n=e.dispatch;e.state;n("SET_SHARE_INFO",t)},t.removeHTMLTag=function(e){return e=e.replace(/<\/?[^>]*>/g,""),e=e.replace(/&nbsp;/gi,"")},t.toggleLockScroll=function(e,t){var n=e.dispatch;e.state;n("TOGGLE_LOCK_SCROLL",t)},t.loadLocation=function(e){var t=e.dispatch,n=(e.state,"eu");i["default"].get("location")&&(n=i["default"].get("location")),t("SET_LOCAL",n)},t.checkInWeiXin=function(e){var t=e.dispatch;e.state;navigator.userAgent.toLowerCase().indexOf("micromessenger")!==-1?t("IN_WEIXIN",!0):t("IN_WEIXIN",!1)},t.setWeixinShare=function(e){var t=(e.dispatch,e.state),n=window.$info;window.wx.config({debug:!1,appId:n.shareConf.weixin.appId,timestamp:n.shareConf.weixin.timestamp,nonceStr:n.shareConf.weixin.nonceStr,signature:n.shareConf.weixin.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]}),window.wx.onMenuShareTimeline({title:t.shareInfo.title,link:window.location.href,imgUrl:t.shareInfo.image,success:function(){},cancel:function(){}}),window.wx.onMenuShareAppMessage({title:t.shareInfo.title,link:window.location.href,desc:t.shareInfo.description,imgUrl:t.shareInfo.image,type:"link",dataUrl:"",success:function(){},cancel:function(){}})},t.shareToWeibo=function(e){var t=(e.dispatch,e.state),n=window.$info,o=function(){for(var e="",n=0;n<t.shareInfo.tags.length;n++)e+="#"+t.shareInfo.tags[n].tag+"#";return e},r=(0,a.substr2)(t.shareInfo.description,100,!0),i={url:encodeURIComponent(window.location.href),appkey:n.shareConf.weibo.appkey,title:encodeURIComponent("《"+t.shareInfo.title+"》"+o()+r),ralateUid:n.shareConf.weibo.ralateUid,pic:encodeURIComponent(t.shareInfo.image),lang:"zh_cn"},s="http://service.weibo.com/share/share.php?url="+i.url+"&appkey="+i.appkey+"&title="+i.title+"&pic="+i.pic+"&ralateUid="+i.ralateUid+"&language="+i.lang+"&searchPic=true";window.open(s,"shareWindow","directories=no,fullscreen=no,height=600,width=800,left=100,top=100,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,titlebar=yes,toolbar=no")},t.shareToQZone=function(e){var t=(e.dispatch,e.state),n=window.$info,o={url:window.location.href,showcount:"0",desc:"",summary:(0,a.substr2)(t.shareInfo.description,100,!0),title:t.shareInfo.title,site:n.shareConf.qzone.site,pics:t.shareInfo.image,style:"203",width:22,height:22},r=[];for(var i in o)r.push(i+"="+encodeURIComponent(o[i]||""));var s="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+r.join("&");window.open(s,"shareWindow","directories=no,fullscreen=no,height=400,width=600,left=100,top=100,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,titlebar=yes,toolbar=no")},t.shareToFacebook=function(e){var t=(e.dispatch,e.state,window.$info),n={app_id:t.shareConf.facebook.appid,href:encodeURIComponent(window.location.href)},o=[];for(var r in n)o.push(r+"="+encodeURIComponent(n[r]||""));var i="https://www.facebook.com/dialog/share?"+o.join("&");window.open(i,"shareWindow","directories=no,fullscreen=no,height=600,width=800,left=100,top=100,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,titlebar=yes,toolbar=no")},t.shareToTwitter=function(e){var t=(e.dispatch,e.state),n=window.$info,o={text:"《"+t.shareInfo.title+"》"+(0,a.substr2)(t.shareInfo.description,50,!0),url:window.location.href,nick:n.shareConf.twitter.nick},r=[];for(var i in o)r.push(i+"="+encodeURIComponent(o[i]||""));var s="https://twitter.com/intent/tweet?"+r.join("&")+"hashtags=&related=&in-reply-to=";window.open(s,"shareWindow","directories=no,fullscreen=no,height=600,width=800,left=100,top=100,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,titlebar=yes,toolbar=no")},t.checkRouterDirection=function(e){console.log(e.from,e.to)},t.setApp=function(e,t){var n=e.dispatch,o=e.state,r=navigator.userAgent.toLowerCase(),i=!!r.match(/iphone/i),a=!!r.match(/android/i),c=o.apis["app-download"],u=void 0;u=i?"iphone":a?"android":"others",t.$http.post(c,{type:u}).then(function(e){(0,s.handleResponse)(e,function(e){e.link&&n("SET_APP_LINK",e.link)})})},t.scrollTopPos=function(){return c("body").scrollTop()},t.scrollTo=function(e,t){e.dispatch,e.state;c("body").scrollTop(t)}},27:function(e,t,n){var o,r,i;(function(n){"use strict";!function(n,a){r=[],o=a,i="function"==typeof o?o.apply(t,r):o,!(void 0!==i&&(e.exports=i))}(this,function(){function e(){try{return a in r&&r[a]}catch(e){return!1}}var t,o={},r="undefined"!=typeof window?window:n,i=r.document,a="localStorage",s="script";if(o.disabled=!1,o.version="1.3.20",o.set=function(e,t){},o.get=function(e,t){},o.has=function(e){return void 0!==o.get(e)},o.remove=function(e){},o.clear=function(){},o.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var r=o.get(e,t);n(r),o.set(e,r)},o.getAll=function(){},o.forEach=function(){},o.serialize=function(e){return JSON.stringify(e)},o.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},e())t=r[a],o.set=function(e,n){return void 0===n?o.remove(e):(t.setItem(e,o.serialize(n)),n)},o.get=function(e,n){var r=o.deserialize(t.getItem(e));return void 0===r?n:r},o.remove=function(e){t.removeItem(e)},o.clear=function(){t.clear()},o.getAll=function(){var e={};return o.forEach(function(t,n){e[t]=n}),e},o.forEach=function(e){for(var n=0;n<t.length;n++){var r=t.key(n);e(r,o.get(r))}};else if(i&&i.documentElement.addBehavior){var c,u;try{u=new ActiveXObject("htmlfile"),u.open(),u.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),u.close(),c=u.w.frames[0].document,t=c.createElement("div")}catch(l){t=i.createElement("div"),c=i.body}var d=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(t),c.appendChild(t),t.addBehavior("#default#userData"),t.load(a);var r=e.apply(o,n);return c.removeChild(t),r}},f=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),p=function(e){return e.replace(/^d/,"___$&").replace(f,"___")};o.set=d(function(e,t,n){return t=p(t),void 0===n?o.remove(t):(e.setAttribute(t,o.serialize(n)),e.save(a),n)}),o.get=d(function(e,t,n){t=p(t);var r=o.deserialize(e.getAttribute(t));return void 0===r?n:r}),o.remove=d(function(e,t){t=p(t),e.removeAttribute(t),e.save(a)}),o.clear=d(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(a);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(a)}),o.getAll=function(e){var t={};return o.forEach(function(e,n){t[e]=n}),t},o.forEach=d(function(e,t){for(var n,r=e.XMLDocument.documentElement.attributes,i=0;n=r[i];++i)t(n.name,o.deserialize(e.getAttribute(n.name)))})}try{var h="__storejs__";o.set(h,h),o.get(h)!=h&&(o.disabled=!0),o.remove(h)}catch(l){o.disabled=!0}return o.enabled=!o.disabled,o})}).call(t,function(){return this}())},52:function(e,t,n){var o,r;n(381),o=n(262),r=n(439),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initUserBanner=t.resetUserBanner=t.setShareConf=void 0;var o=n(6),r=n(26),i=t.setShareConf=function(e){var t=e.dispatch,n=e.state;(0,r.setWeixinShare)({dispatch:t,state:n})},a=function(e,t){var n=e.dispatch,r=e.state,a="";"writer"===t.type||"mediaOrg"===t.type?a=r.apis["author-info"]:"eventOrg"===t.type&&(a=r.apis["activity-org-info"]);var s={type:t.type,id:t.userid,userId:t.userid};n("GLOBAL_LOADING",!0),t.$http.get(a,s).then(function(e){(0,o.handleResponse)(e,function(e){n("SET_USER_DATA",e),n("GLOBAL_LOADING",!1),n("SET_SHARE_INFO",{title:e.name,description:e.intro,image:e.avatar}),i({dispatch:n,state:r})},function(e,t){(0,o.APIError)(a,e),n("GLOBAL_LOADING",!1)})},function(e){window.alert("用户信息数据获取失败，请稍后重试"),n("GLOBAL_LOADING",!1)})};t.resetUserBanner=function(e){var t=e.dispatch;e.state;t("RESET_USER_DATA")},t.initUserBanner=function(e,t){var n=e.dispatch,o=e.state;a({dispatch:n,state:o},t)}},262:function(e,t,n){"use strict";var o=n(25),r=n(24),i=n(53);e.exports={name:"org-center",vuex:{getters:{stateSidemenu:function(e){return e.sidemenu},loading:function(e){return e.loading},userInfo:function(e){return e.userBanner}},actions:{toggleSidemenu:o.toggleSidemenu,setBreadcrumbs:r.setBreadcrumbs,resetUserBanner:i.resetUserBanner}},components:{topheader:function(e){n.e(32,function(t){var n=[t(31)];e.apply(null,n)}.bind(this))},"user-banner":function(e){n.e(50,function(t){var n=[t(483)];e.apply(null,n)}.bind(this))},"org-center-navbar":function(e){n.e(51,function(t){var n=[t(476)];e.apply(null,n)}.bind(this))}},route:{activate:function(e){this.loading||e.next()}},ready:function(){this.toggleSidemenu(!1),this.setBreadcrumbs(this.$route.breadcrumbs)}}},336:function(e,t,n){t=e.exports=n(7)(),t.push([e.id,"",""])},381:function(e,t,n){var o=n(336);"string"==typeof o&&(o=[[e.id,o,""]]);n(8)(o,{});o.locals&&(e.exports=o.locals)},439:function(e,t){e.exports="<div class=org-center><topheader v-bind:type=\"$route.name.split('-')[0]\" v-bind:info=userInfo></topheader><user-banner v-bind:type=\"$route.name.split('-')[0]\" v-bind:userid=$route.params.id></user-banner><org-center-navbar v-bind:type=$route.name v-bind:info=userInfo></org-center-navbar><router-view v-bind:type=\"$route.name.split('-')[0]\" v-bind:info=userInfo></router-view></div>"}});